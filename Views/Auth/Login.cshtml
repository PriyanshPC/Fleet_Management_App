@{
    // Disable layout for login page (no navbar or site chrome)
    Layout = null;
    // Retrieve any login error message from TempData for display
    var error = TempData["LoginError"] as string;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Employee Login • Ghostbusters Fleet</title>

    <!-- Bootstrap 5.3 and Bootstrap Icons for styling -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet" />
    <link href="~/css/site.css" rel="stylesheet" />

    <style>
        /* Center the login card vertically and horizontally */
        .login-canvas {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #0A0F20;
            padding: 24px;
        }

        /* Style for the login card container */
        .login-card {
            width: 100%;
            max-width: 440px;
            padding: 32px;
        }

        /* Circular logo container */
        .logo-circle {
            width: 40px;
            height: 40px;
            border-radius: 999px;
            border: 1px solid var(--border);
            display: grid;
            place-items: center;
            background: var(--secondary);
        }

        /* Banner for displaying login errors */
        .error-banner {
            background: rgba(215, 38, 56, 0.12);
            border: 1px solid var(--danger);
            color: #E03545;
            padding: 10px 12px;
            border-radius: 8px;
            margin-bottom: 16px;
        }

        /* Smaller label styling for form fields */
        label.small-label {
            font-size: 12px;
            font-weight: 600;
            color: #94A3B8;
            letter-spacing: .2px;
        }
    </style>
</head>
<body>
    <div class="login-canvas">
        <div class="card-dark login-card">
            <!-- Login header with logo and title -->
            <div class="text-center">
                <div class="d-inline-flex align-items-center gap-3">
                    <div class="logo-circle">
                        <!-- Shield icon for branding -->
                        <i class="bi bi-shield-check"></i>
                    </div>
                    <div class="d-flex flex-column align-items-start">
                        <div style="font-size:20px; font-weight:600;">Ghostbusters Inc.</div>
                        <div class="text-muted" style="font-size:14px;">Employee Login</div>
                    </div>
                </div>
            </div>

            <!-- Subtitle describing access scope -->
            <div class="text-muted mt-2 text-center" style="font-size:14px;">
                Access the Fleet, Rentals, and Equipment tools.
            </div>

            <!-- Spacer before the login form -->
            <div style="height: 24px;"></div>

            <!-- Display error banner if login error exists -->
            @if (!string.IsNullOrEmpty(error))
            {
                <div id="login-error-banner" class="error-banner text-center">
                    @error
                </div>
            }

            <!-- Login form for employee authentication -->
            <form method="post" asp-action="Login" asp-controller="Auth" novalidate>
                <div class="mb-3">
                    <!-- Username input field -->
                    <label for="login-username" class="form-label small-label">Username</label>
                    <input id="login-username" name="username" class="form-control" placeholder="Enter username" required />
                </div>

                <div class="mb-3">
                    <!-- Password input field -->
                    <label for="login-password" class="form-label small-label">Password</label>
                    <input id="login-password" type="password" name="password" class="form-control" placeholder="Enter password" required />
                </div>

                <div class="d-flex justify-content-between align-items-center mb-3">
                    <!-- Remember me checkbox -->
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="true" id="login-remember" name="remember">
                        <label class="form-check-label" for="login-remember" style="color:var(--muted);">Remember me</label>
                    </div>
                    <!-- Link for password recovery (not implemented) -->
                    <a class="link-muted" href="#">Forgot password?</a>
                </div>

                <!-- Submit button for login -->
                <button type="submit" class="btn btn-primary w-100">Login</button>

                <!-- Support contact for access issues -->
                <div class="text-center mt-3" style="font-size:13px;">
                    <span class="text-muted">Need access?</span>
                    <a class="link-muted" href="#">Contact support</a>
                </div>

                <!-- Anti-forgery token for security -->
                @Html.AntiForgeryToken()
            </form>
        </div>
    </div>

    <!-- Bootstrap JS bundle for interactive components -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>